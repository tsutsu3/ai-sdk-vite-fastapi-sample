# ============================================================
# Common
# ============================================================

# Log level
# Optional
# Choices: CRITICAL | ERROR | WARNING | INFO | DEBUG
LOG_LEVEL=INFO

# Auth provider
# Optional
# Choices: iap | easyauth | local | none
AUTH_PROVIDER=local

# Local auth user info (used when AUTH_PROVIDER=local)
# Optional
# See: app/shared/fixtures/authz/local_data.py
LOCAL_AUTH_USER_ID=local-user-001-01
LOCAL_AUTH_USER_EMAIL=local.user001@example.com

# OpenTelemetry
# Optional
# Choices: true | false
OTEL_ENABLED=false
OTEL_SERVICE_NAME=ai-sdk-vite-fastapi-sample-backend
# Choices: console | otlp | azure
OTEL_EXPORTER=console
# Choices: grpc | http
OTEL_EXPORTER_OTLP_PROTOCOL=grpc
OTEL_EXPORTER_OTLP_ENDPOINT=

AZURE_MONITOR_CONNECTION_STRING=

# ============================================================
# Storage backend selection
# ============================================================

# Database backend
# Optional
# Choices: memory | azure | local
# Note: gcp is not supported yet
DB_BACKEND=memory

# Blob storage backend
# Optional
# Choices: memory | azure | local
# Note: gcp is not supported yet
BLOB_BACKEND=memory

# Local storage path (used when DB_BACKEND or BLOB_BACKEND is local)
# Optional
# Default: .local-data
LOCAL_STORAGE_PATH=.local-data

# Blob object URL TTL (seconds)
# Optional
# Default: 60
BLOB_OBJECT_URL_TTL_SECONDS=60

# Authz cache TTL (seconds)
# Optional
# Default: 3600
AUTHZ_CACHE_TTL_SECONDS=3600

# Authz cache max size (entries)
# Optional
# Default: 1000
AUTHZ_CACHE_MAX_SIZE=1000

# Messages cache TTL (seconds)
# Optional
# Default: 900
MESSAGES_CACHE_TTL_SECONDS=900

# Messages cache max bytes
# Optional
# Default: 5242880 (5 MB)
MESSAGES_CACHE_MAX_BYTES=5242880

# Usage buffer backend
# Optional
# Choices: local | azure | gcp
USAGE_BUFFER_BACKEND=local

# Local usage buffer path
# Optional
USAGE_BUFFER_LOCAL_PATH=.local-data/usage-buffer

# Flush threshold (records)
# Optional
# Default: 100
USAGE_BUFFER_FLUSH_MAX_RECORDS=100

# Flush interval (seconds)
# Optional
# Default: 60
USAGE_BUFFER_FLUSH_INTERVAL_SECONDS=60

# Azure Blob container for raw usage logs
# Optional
USAGE_BUFFER_BLOB_CONTAINER=usage-raw

# Azure Blob prefix for raw usage logs
# Optional
USAGE_BUFFER_BLOB_PREFIX=usage/raw

# GCS bucket for raw usage logs
# Optional
USAGE_BUFFER_GCS_BUCKET=

# GCS prefix for raw usage logs
# Optional
USAGE_BUFFER_GCS_PREFIX=usage/raw

# Azure Event Hub namespace (FQDN) for usage logs
# Required when USAGE_BUFFER_BACKEND=azure
# Example: your-namespace.servicebus.windows.net
USAGE_EVENTHUB_NAMESPACE=

# Azure Event Hub shared access key name
# Required when USAGE_BUFFER_BACKEND=azure
USAGE_EVENTHUB_KEY_NAME=

# Azure Event Hub shared access key
# Required when USAGE_BUFFER_BACKEND=azure
USAGE_EVENTHUB_API_KEY=

# Azure Event Hub name for usage logs
# Required when USAGE_BUFFER_BACKEND=azure
USAGE_EVENTHUB_NAME=


# ============================================================
# Pagination limits
# ============================================================

# Messages page size default
# Optional
# Default: 30
MESSAGES_PAGE_DEFAULT_LIMIT=30

# Messages page size max
# Optional
# Default: 200
MESSAGES_PAGE_MAX_LIMIT=200

# Conversations page size default
# Optional
# Default: 50
CONVERSATIONS_PAGE_DEFAULT_LIMIT=50

# Conversations page size max
# Optional
# Default: 200
CONVERSATIONS_PAGE_MAX_LIMIT=200


# ============================================================
# Chat providers
# ============================================================

# Enabled chat providers (comma separated)
# Optional
# Choices: memory | azure | ollama
# Note: gcp is not supported yet
CHAT_PROVIDERS=memory


# ============================================================
# Azure Chat Models
# ============================================================

# Enabled Azure chat models (comma separated)
# Required when CHAT_PROVIDERS includes "azure"
# Example: gpt-4o,gpt-5
AZURE_CHAT_MODELS=gpt-4o

# Azure OpenAI model -> deployment mapping
# Required when CHAT_PROVIDERS includes "azure"
# Format: model_id=deployment_name[,model_id=deployment_name]
# Example: gpt-4o=gpt4o-prod,gpt-5=gpt5-prod
AZURE_OPENAI_DEPLOYMENTS=gpt-4o=gpt4o-prod

# Azure OpenAI endpoint
# Required when CHAT_PROVIDERS includes "azure"
AZURE_OPENAI_ENDPOINT=https://your-resource-name.openai.azure.com/

# Azure OpenAI API key
# Required when CHAT_PROVIDERS includes "azure"
AZURE_OPENAI_API_KEY=your-azure-openai-api-key

# Azure OpenAI API version
# Optional
AZURE_OPENAI_API_VERSION=2024-06-01


# ============================================================
# Ollama Chat Models
# ============================================================

# Enabled Ollama chat models (comma separated)
# Required when CHAT_PROVIDERS includes "ollama"
# Example: tinyllama:1.1b,qwen3:0.6b
OLLAMA_CHAT_MODELS=tinyllama:1.1b,qwen3:0.6b

# Ollama base URL
# Optional
# Default: http://localhost:11434
OLLAMA_BASE_URL=http://localhost:11434


# ============================================================
# Model display names / generate title models
# ============================================================
CHAT_MODEL_NAMES=tinyllama:1.1b=TinyLlama 1.1B,qwen3:0.6b=Qwen 3 0.6B,gpt-4o=GPT-4o

# Model chefs (display group)
# Format: model=chef_name[,model=chef_name]
CHAT_MODEL_CHEFS=gpt-4o=OpenAI,tinyllama:1.1b=Ollama,qwen3:0.6b=Ollama

# Model chef slugs (logo provider)
# Format: model=chef_slug[,model=chef_slug]
CHAT_MODEL_CHEF_SLUGS=gpt-4o=openai,tinyllama:1.1b=ollama,qwen3:0.6b=ollama

# Model provider logos (comma separated, per-model list separated by |)
# Format: model=provider|provider[,model=provider|provider]
CHAT_MODEL_PROVIDERS=gpt-4o=openai|azure,tinyllama:1.1b=ollama,qwen3:0.6b=ollama

# Model used for title generation
# Optional
CHAT_TITLE_MODEL=

# Default chat model id
# Optional
CHAT_DEFAULT_MODEL=

# ============================================================
# Azure Cosmos DB
# ============================================================

# Cosmos DB endpoint
# Required when DB_BACKEND=azure
COSMOS_ENDPOINT=https://your-cosmos-account.documents.azure.com:443/

# Cosmos DB primary key
# Required when DB_BACKEND=azure
COSMOS_KEY=your-cosmos-primary-key

# Cosmos DB database name
# Optional
# Default: chatdb
COSMOS_DATABASE=chatdb

# Cosmos DB containers
# Optional
COSMOS_CONVERSATIONS_CONTAINER=conversations
COSMOS_MESSAGES_CONTAINER=messages
COSMOS_USERS_CONTAINER=users
COSMOS_TENANTS_CONTAINER=tenants
COSMOS_USERIDENTITIES_CONTAINER=useridentities
COSMOS_PROVISIONING_CONTAINER=provisioning


# ============================================================
# Azure Blob Storage
# ============================================================

# Azure Blob endpoint
# Required when BLOB_BACKEND=azure
AZURE_BLOB_ENDPOINT=https://your-storage-account.blob.core.windows.net/

# Azure Blob API key
# Required when BLOB_BACKEND=azure
AZURE_BLOB_API_KEY=your-azure-blob-api-key

# Azure Blob container name
# Optional
# Default: attachments
AZURE_BLOB_CONTAINER=attachments


# ============================================================
# GCP (reserved for future use)
# ============================================================

# GCP project ID
# Not used yet
GCP_PROJECT_ID=

# GCP location
# Not used yet
GCP_LOCATION=


# ============================================================
# Web Search
# ============================================================

# Enabled web search engines (comma separated)
# Optional
# Choices: duckduckgo | internal
WEB_SEARCH_ENGINES=duckduckgo

# Default web search engine
# Optional
WEB_SEARCH_DEFAULT_ENGINE=duckduckgo

# Internal search API endpoint
# Optional
WEB_SEARCH_INTERNAL_URL=

# Internal search API key
# Optional
WEB_SEARCH_INTERNAL_API_KEY=

# Internal search API auth header
# Optional
# Default: X-API-Key
WEB_SEARCH_INTERNAL_AUTH_HEADER=X-API-Key

# Fetch and include page content for web search results
# Optional
# Choices: true | false
WEB_SEARCH_FETCH_CONTENT=false


# ============================================================
# Retrieval
# ============================================================

# Default retrieval provider
# Optional
# Choices: memory | postgres | ai-search
RETRIEVAL_DEFAULT_PROVIDER=memory

# AI Search endpoint (external retrieval service)
# Optional
RETRIEVAL_AI_SEARCH_URL=

# AI Search API key
# Optional
RETRIEVAL_AI_SEARCH_API_KEY=

# AI Search auth header
# Optional
# Default: X-API-Key
RETRIEVAL_AI_SEARCH_AUTH_HEADER=X-API-Key

# Postgres DSN for pgvector
# Optional
RETRIEVAL_PG_DSN=

# Postgres table and columns
# Optional
RETRIEVAL_PG_TABLE=rag_documents
RETRIEVAL_PG_TEXT_COLUMN=content
RETRIEVAL_PG_URL_COLUMN=source_url
RETRIEVAL_PG_EMBEDDING_COLUMN=embedding
RETRIEVAL_PG_SOURCE_COLUMN=data_source
